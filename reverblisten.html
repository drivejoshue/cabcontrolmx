<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Test Ride RT</title>
</head>
<body>
  <h1>Test Realtime Ride</h1>
  <p>Abre la consola del navegador (F12) para ver los eventos.</p>
  <pre id="log"></pre>

  <!-- SDK de Pusher desde CDN -->
  <script src="https://js.pusher.com/8.2/pusher.min.js"></script>
  <script>
    // Muestra los logs de Pusher tambi√©n en la consola
    Pusher.logToConsole = true;

    // ‚öôÔ∏è Configurar Pusher/Reverb
    const pusher = new Pusher('localkey', {
      wsHost: 'orbana.sysapp.com.mx', // tu host Reverb
      wsPort: 443,
      wssPort: 443,
      forceTLS: true,
      enabledTransports: ['ws', 'wss'],
    });

    const channelName = 'tenant.1.ride.523';
    const channel = pusher.subscribe(channelName);

    const logElement = document.getElementById('log');

    // üëÄ Escuchar TODOS los eventos del canal
    channel.bind_global(function(eventName, data) {
      const line = 'üö¶ EVENT on ' + channelName + ' ‚Üí ' + eventName + ' ' + JSON.stringify(data) + '\n';
      console.log(line);
      logElement.textContent += line;
    });
  </script>
</body>
</html>
